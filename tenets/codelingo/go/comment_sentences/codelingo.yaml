funcs:
  - name: incorrectComment
    type: asserter
    body: |
      function (fname, comment) {
        var str = comment.substring(2, comment.length);
        var arr = str.split(" ");
        var i = 0;
        var first = arr[i]
        while (first === "") {
          i++;
          first = arr[i];
        }

        return (comment[comment.length -1] !== '.') || (first !== fname);
      }
tenets:
  - name: comment_sentences
    flows:
      codelingo/review:
        comment: Declaration comments must begin with the thing that is being commented and end with a period.
    query: |
      import (
        codelingo/ast/go
      )

      go.func_decl(depth = any):
        @review comment
        go.comment_group:
          go.comment:
            text as commentText
        go.ident:
          name as fname
          incorrectComment(fname, commentText)
